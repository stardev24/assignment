{"ast":null,"code":"var _jsxFileName = \"/home/sai/Pictures/Powerschool_Assignment_Frontend/assignment_frontend/src/components/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; //import Suggestions from './Suggestions'\n\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      options: [],\n      countries: []\n    };\n\n    this.handleInputChange = (event, values) => {\n      this.setState({\n        query: values\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        }\n      });\n    };\n\n    this.getInfo = () => {\n      axios.post(`http://localhost:5000/api/search`, {\n        query: this.state.query\n      }).then(({\n        data\n      }) => {\n        console.log(\"Response data -->\", data);\n        this.setState({\n          options: data // MusicGraph returns an object named data, \n          // as does axios. So... data.data                             \n\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Autocomplete, {\n      id: \"combo-box-demo\",\n      options: this.state.options,\n      getOptionLabel: option => option.title,\n      style: {\n        width: 300\n      },\n      onInputChange: this.handleInputChange,\n      renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n        label: \"Countries\",\n        variant: \"outlined\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 34\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }), \"--->\", this.state.options.length);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/sai/Pictures/Powerschool_Assignment_Frontend/assignment_frontend/src/components/Search.js"],"names":["React","Component","axios","TextField","Autocomplete","Search","state","query","options","countries","handleInputChange","event","values","setState","length","getInfo","post","then","data","console","log","render","option","title","width","params"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;;AAIA,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC9BK,KAD8B,GACtB;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,OAAO,EAAC,EAFF;AAGNC,MAAAA,SAAS,EAAC;AAHJ,KADsB;;AAAA,SAQ9BC,iBAR8B,GAQV,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACpC,WAAKC,QAAL,CAAc;AACZN,QAAAA,KAAK,EAAEK;AADK,OAAd,EAEG,MAAM;AACP,YAAI,KAAKN,KAAL,CAAWC,KAAX,IAAoB,KAAKD,KAAL,CAAWC,KAAX,CAAiBO,MAAjB,GAA0B,CAAlD,EAAqD;AACnD,cAAI,KAAKR,KAAL,CAAWC,KAAX,CAAiBO,MAAjB,GAA0B,CAA1B,KAAgC,CAApC,EAAuC;AACrC,iBAAKC,OAAL;AACD;AACF;AACF,OARD;AASD,KAlB4B;;AAAA,SAmB9BA,OAnB8B,GAmBpB,MAAM;AACbb,MAAAA,KAAK,CAACc,IAAN,CAAY,kCAAZ,EAA8C;AAACT,QAAAA,KAAK,EAAC,KAAKD,KAAL,CAAWC;AAAlB,OAA9C,EACGU,IADH,CACQ,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAc;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgCF,IAAhC;AACF,aAAKL,QAAL,CAAc;AACVL,UAAAA,OAAO,EAAEU,IADC,CACG;AACI;;AAFP,SAAd;AAID,OAPH;AAQD,KA5B4B;AAAA;;AA+B9BG,EAAAA,MAAM,GAAG;AACP,wBACI,uDACC,oBAAC,YAAD;AACA,MAAA,EAAE,EAAC,gBADH;AAEA,MAAA,OAAO,EAAE,KAAKf,KAAL,CAAWE,OAFpB;AAGA,MAAA,cAAc,EAAGc,MAAD,IAAYA,MAAM,CAACC,KAHnC;AAIA,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAJP;AAKA,MAAA,aAAa,EAAE,KAAKd,iBALpB;AAMA,MAAA,WAAW,EAAGe,MAAD,iBAAY,oBAAC,SAAD,oBAAeA,MAAf;AAAuB,QAAA,KAAK,EAAC,WAA7B;AAAyC,QAAA,OAAO,EAAC,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SANzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,UASE,KAAKnB,KAAL,CAAWE,OAAX,CAAmBM,MATrB,CADJ;AAaD;;AA7C6B;;AAgD/B,eAAeT,MAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n//import Suggestions from './Suggestions'\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n\n\nclass Search extends Component {\n state = {\n   query: '',\n   options:[],\n   countries:[]\n }\n\n\n handleInputChange = (event, values) => {\n    this.setState({\n      query: values\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        if (this.state.query.length % 2 === 0) {\n          this.getInfo()\n        }\n      } \n    })\n  }\n getInfo = () => {\n    axios.post(`http://localhost:5000/api/search`,{query:this.state.query})\n      .then(({ data }) => {\n          console.log(\"Response data -->\",data)\n        this.setState({\n            options: data// MusicGraph returns an object named data, \n                             // as does axios. So... data.data                             \n        })\n      })\n  }\n\n\n render() {\n   return (\n       <>\n        <Autocomplete\n        id=\"combo-box-demo\"\n        options={this.state.options}\n        getOptionLabel={(option) => option.title}\n        style={{ width: 300 }}\n        onInputChange={this.handleInputChange}\n        renderInput={(params) => <TextField {...params} label=\"Countries\" variant=\"outlined\" />}\n    />\n    --->{this.state.options.length}\n    </>\n   )\n }\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}