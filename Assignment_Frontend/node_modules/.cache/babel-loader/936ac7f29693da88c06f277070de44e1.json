{"ast":null,"code":"var _jsxFileName = \"/home/sai/Pictures/Powerschool_Assignment_Frontend/assignment_frontend/src/components/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; //import Suggestions from './Suggestions'\n\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      options: []\n    };\n\n    this.handleInputChange = (event, values) => {\n      this.setState({\n        query: values\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        }\n      });\n    };\n\n    this.getInfo = () => {\n      axios.post(`http://localhost:5000/api/search`, {\n        query: this.state.query\n      }).then(({\n        data\n      }) => {\n        console.log(\"Response data -->\", data);\n        this.setState({\n          results: data.map(el => el.title) // MusicGraph returns an object named data, \n          // as does axios. So... data.data                             \n\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Autocomplete, {\n      id: \"combo-box-demo\",\n      options: this.state.options,\n      getOptionLabel: option => option.title,\n      style: {\n        width: 300\n      },\n      onInputChange: this.handleInputChange,\n      renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n        label: \"Countries\",\n        variant: \"outlined\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 34\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }), \"--->\", (this.state, options.length));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/sai/Pictures/Powerschool_Assignment_Frontend/assignment_frontend/src/components/Search.js"],"names":["React","Component","axios","TextField","Autocomplete","Search","state","query","options","handleInputChange","event","values","setState","length","getInfo","post","then","data","console","log","results","map","el","title","render","option","width","params"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;;AAIA,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC9BK,KAD8B,GACtB;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,OAAO,EAAC;AAFF,KADsB;;AAAA,SAO9BC,iBAP8B,GAOV,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACpC,WAAKC,QAAL,CAAc;AACZL,QAAAA,KAAK,EAAEI;AADK,OAAd,EAEG,MAAM;AACP,YAAI,KAAKL,KAAL,CAAWC,KAAX,IAAoB,KAAKD,KAAL,CAAWC,KAAX,CAAiBM,MAAjB,GAA0B,CAAlD,EAAqD;AACnD,cAAI,KAAKP,KAAL,CAAWC,KAAX,CAAiBM,MAAjB,GAA0B,CAA1B,KAAgC,CAApC,EAAuC;AACrC,iBAAKC,OAAL;AACD;AACF;AACF,OARD;AASD,KAjB4B;;AAAA,SAkB9BA,OAlB8B,GAkBpB,MAAM;AACbZ,MAAAA,KAAK,CAACa,IAAN,CAAY,kCAAZ,EAA8C;AAACR,QAAAA,KAAK,EAAC,KAAKD,KAAL,CAAWC;AAAlB,OAA9C,EACGS,IADH,CACQ,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAc;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgCF,IAAhC;AACF,aAAKL,QAAL,CAAc;AACZQ,UAAAA,OAAO,EAAEH,IAAI,CAACI,GAAL,CAAUC,EAAD,IAAOA,EAAE,CAACC,KAAnB,CADG,CACuB;AAChB;;AAFP,SAAd;AAID,OAPH;AAQD,KA3B4B;AAAA;;AA8B9BC,EAAAA,MAAM,GAAG;AACP,wBACI,uDACC,oBAAC,YAAD;AACA,MAAA,EAAE,EAAC,gBADH;AAEA,MAAA,OAAO,EAAE,KAAKlB,KAAL,CAAWE,OAFpB;AAGA,MAAA,cAAc,EAAGiB,MAAD,IAAYA,MAAM,CAACF,KAHnC;AAIA,MAAA,KAAK,EAAE;AAAEG,QAAAA,KAAK,EAAE;AAAT,OAJP;AAKA,MAAA,aAAa,EAAE,KAAKjB,iBALpB;AAMA,MAAA,WAAW,EAAGkB,MAAD,iBAAY,oBAAC,SAAD,oBAAeA,MAAf;AAAuB,QAAA,KAAK,EAAC,WAA7B;AAAyC,QAAA,OAAO,EAAC,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SANzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,WASE,KAAKrB,KAAL,EAAWE,OAAO,CAACK,MATrB,EADJ;AAaD;;AA5C6B;;AA+C/B,eAAeR,MAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n//import Suggestions from './Suggestions'\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n\n\nclass Search extends Component {\n state = {\n   query: '',\n   options:[]\n }\n\n\n handleInputChange = (event, values) => {\n    this.setState({\n      query: values\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        if (this.state.query.length % 2 === 0) {\n          this.getInfo()\n        }\n      } \n    })\n  }\n getInfo = () => {\n    axios.post(`http://localhost:5000/api/search`,{query:this.state.query})\n      .then(({ data }) => {\n          console.log(\"Response data -->\",data)\n        this.setState({\n          results: data.map((el)=> el.title) // MusicGraph returns an object named data, \n                             // as does axios. So... data.data                             \n        })\n      })\n  }\n\n\n render() {\n   return (\n       <>\n        <Autocomplete\n        id=\"combo-box-demo\"\n        options={this.state.options}\n        getOptionLabel={(option) => option.title}\n        style={{ width: 300 }}\n        onInputChange={this.handleInputChange}\n        renderInput={(params) => <TextField {...params} label=\"Countries\" variant=\"outlined\" />}\n    />\n    --->{this.state,options.length}\n    </>\n   )\n }\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}