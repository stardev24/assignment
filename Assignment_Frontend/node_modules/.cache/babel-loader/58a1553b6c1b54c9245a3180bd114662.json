{"ast":null,"code":"var _jsxFileName = \"/home/sai/Pictures/Powerschool_Assignment_Frontend/assignment_frontend/src/components/Search_functional.js\";\nimport React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from 'axios';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Grid from '@material-ui/core/Grid';\nimport CustomDebounce from '../utils/debounce';\n\nfunction SearchBar() {\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n  const [searchResults, setSearchResults] = React.useState([]);\n\n  const handleChange = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleInputChange = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  const deboundSearch = CustomDebounce(searchTerm, 300); //This will set delay to our search\n\n  console.log(\"Debounced search term  -\", deboundSearch);\n  useEffect(() => {\n    if (deboundSearch) {\n      // Call countries API \n      let results = searchCountries(deboundSearch); // Set results in react state\n\n      setSearchResults(results);\n    } else {\n      setSearchResults([]);\n    }\n  }, []);\n\n  const searchCountries = code => {\n    return fetch(`http://localhost:5000/api/search`, {\n      method: 'POST',\n      body: JSON.stringify({\n        query: code\n      })\n    }).then(r => r.json()).then(r => r.data.results).catch(error => {\n      console.error(error);\n      return [];\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Autocomplete, {\n    id: \"combo-box-demo\",\n    options: searchResults,\n    getOptionLabel: option => option.title,\n    style: {\n      width: 500\n    },\n    onInputChange: e => handleChange(e),\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      label: \"Countries\",\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 34\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default SearchBar;","map":{"version":3,"sources":["/home/sai/Pictures/Powerschool_Assignment_Frontend/assignment_frontend/src/components/Search_functional.js"],"names":["React","useEffect","ReactDOM","axios","TextField","Autocomplete","Grid","CustomDebounce","SearchBar","searchTerm","setSearchTerm","useState","searchResults","setSearchResults","handleChange","event","target","value","handleInputChange","deboundSearch","console","log","results","searchCountries","code","fetch","method","body","JSON","stringify","query","then","r","json","data","catch","error","option","title","width","e","params"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,cAAP,MAA2B,mBAA3B;;AAEA,SAASC,SAAT,GAAqB;AAEpB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BV,KAAK,CAACW,QAAN,CAAe,EAAf,CAApC;AACA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCb,KAAK,CAACW,QAAN,CAAe,EAAf,CAA1C;;AACA,QAAMG,YAAY,GAAGC,KAAK,IAAI;AAC3BL,IAAAA,aAAa,CAACK,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;AACD,GAFF;;AAID,QAAMC,iBAAiB,GAAIH,KAAD,IAAW;AAEjCL,IAAAA,aAAa,CAACK,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;AACH,GAHD;;AAKA,QAAME,aAAa,GAAGZ,cAAc,CAACE,UAAD,EAAY,GAAZ,CAApC,CAbqB,CAaiC;;AAEtDW,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAuCF,aAAvC;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AAEZ,QAAIkB,aAAJ,EAAmB;AACf;AACD,UAAIG,OAAO,GAAIC,eAAe,CAACJ,aAAD,CAA9B,CAFgB,CAGb;;AACAN,MAAAA,gBAAgB,CAACS,OAAD,CAAhB;AACH,KALH,MAKS;AACLT,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACH;AACF,GAVM,EAUJ,EAVI,CAAT;;AAaE,QAAMU,eAAe,GAAIC,IAAD,IAAU;AAEhC,WAAOC,KAAK,CACP,kCADO,EAER;AACEC,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,QAAAA,KAAK,EAACN;AAAP,OAAf;AAFR,KAFQ,CAAL,CAOFO,IAPE,CAOGC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAPR,EAQFF,IARE,CAQGC,CAAC,IAAIA,CAAC,CAACE,IAAF,CAAOZ,OARf,EASFa,KATE,CASIC,KAAK,IAAI;AACdhB,MAAAA,OAAO,CAACgB,KAAR,CAAcA,KAAd;AACA,aAAO,EAAP;AACD,KAZE,CAAP;AAcA,GAhBF;;AAkBC,sBACI,uDACC,oBAAC,YAAD;AACA,IAAA,EAAE,EAAC,gBADH;AAEA,IAAA,OAAO,EAAExB,aAFT;AAIA,IAAA,cAAc,EAAGyB,MAAD,IAAYA,MAAM,CAACC,KAJnC;AAKA,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KALP;AAMA,IAAA,aAAa,EAAGC,CAAD,IAAM1B,YAAY,CAAC0B,CAAD,CANjC;AAOA,IAAA,WAAW,EAAGC,MAAD,iBAAY,oBAAC,SAAD,oBAAeA,MAAf;AAAuB,MAAA,KAAK,EAAC,WAA7B;AAAyC,MAAA,OAAO,EAAC,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAPzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADJ;AAaF;;AAED,eAAejC,SAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from 'axios'\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Grid from '@material-ui/core/Grid';\nimport CustomDebounce from '../utils/debounce'\n\nfunction SearchBar() {\n\n const [searchTerm, setSearchTerm] = React.useState(\"\");\n const [searchResults, setSearchResults] = React.useState([]);\n const handleChange = event => {\n    setSearchTerm(event.target.value);\n  };\n\nconst handleInputChange = (event) => {\n\n    setSearchTerm(event.target.value)\n}\n\nconst deboundSearch = CustomDebounce(searchTerm,300); //This will set delay to our search\n\nconsole.log(\"Debounced search term  -\",deboundSearch)\n\nuseEffect(() => {\n\n    if (deboundSearch) {\n        // Call countries API \n       let results =  searchCountries(deboundSearch)\n          // Set results in react state\n          setSearchResults(results);\n      } else {\n        setSearchResults([]);\n    }\n  }, []);\n\n\n  const searchCountries = (code) => {\n\n    return fetch(\n        `http://localhost:5000/api/search`,\n        {\n          method: 'POST',\n          body: JSON.stringify({query:code}) \n        }\n      )\n        .then(r => r.json())\n        .then(r => r.data.results)\n        .catch(error => {\n          console.error(error);\n          return [];\n        });\n\n   } \n\n   return (\n       <>\n        <Autocomplete\n        id=\"combo-box-demo\"\n        options={searchResults}\n\n        getOptionLabel={(option) => option.title}\n        style={{ width: 500 }}\n        onInputChange={(e)=> handleChange(e)}\n        renderInput={(params) => <TextField {...params} label=\"Countries\" variant=\"outlined\" />}\n    />\n    </>\n   )\n}\n\nexport default SearchBar"]},"metadata":{},"sourceType":"module"}