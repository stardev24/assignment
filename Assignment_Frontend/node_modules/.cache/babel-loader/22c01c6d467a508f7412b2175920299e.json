{"ast":null,"code":"var _jsxFileName = \"/home/sai/Pictures/Powerschool_Assignment_Frontend/assignment_frontend/src/components/Search.js\";\nimport React, { useEffect } from \"react\";\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Grid from '@material-ui/core/Grid';\nimport CustomDebounce from '../utils/debounce';\n\nfunction SearchBar() {\n  const [searchTerm, setSearchTerm] = React.useState(\"\");\n  const [searchResults, setSearchResults] = React.useState([]);\n\n  const handleChange = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  const deboundSearch = CustomDebounce(searchTerm, 300); //This will set debounce delay to our search\n\n  console.log(\"Debounced search term  -\", deboundSearch);\n  useEffect(() => {\n    if (deboundSearch) {\n      // Call countries API \n      searchCountries(deboundSearch).then(results => {\n        // Set results in react state\n        setSearchResults(results);\n      });\n    } else {\n      setSearchResults([]);\n    }\n  }, [deboundSearch]);\n\n  const searchCountries = code => {\n    return fetch(`http://localhost:5000/api/search`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        query: code\n      })\n    }).then(response => response.json()).then(responseObj => {\n      return responseObj;\n    }).catch(error => {\n      console.error(error);\n      return [];\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    direction: \"column\",\n    alignItems: \"center\",\n    justify: \"center\",\n    style: {\n      minHeight: '100vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Please Select Your Country\"), /*#__PURE__*/React.createElement(Autocomplete, {\n    id: \"autocomplete\",\n    \"data-testid\": \"autocomplete-search\",\n    options: searchResults,\n    getOptionLabel: option => option.title,\n    style: {\n      width: 500\n    },\n    onInputChange: e => handleChange(e),\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      \"data-testid\": \"autocompleteTxt\",\n      alt: \"autocomplete\",\n      label: \"Countries\",\n      variant: \"outlined\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 50\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default SearchBar;","map":{"version":3,"sources":["/home/sai/Pictures/Powerschool_Assignment_Frontend/assignment_frontend/src/components/Search.js"],"names":["React","useEffect","TextField","Autocomplete","Grid","CustomDebounce","SearchBar","searchTerm","setSearchTerm","useState","searchResults","setSearchResults","handleChange","event","target","value","deboundSearch","console","log","searchCountries","then","results","code","fetch","method","headers","body","JSON","stringify","query","response","json","responseObj","catch","error","minHeight","option","title","width","e","params"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,cAAP,MAA2B,mBAA3B;;AAEA,SAASC,SAAT,GAAqB;AAEpB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BR,KAAK,CAACS,QAAN,CAAe,EAAf,CAApC;AACA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCX,KAAK,CAACS,QAAN,CAAe,EAAf,CAA1C;;AAEC,QAAMG,YAAY,GAAGC,KAAK,IAAI;AAC5BL,IAAAA,aAAa,CAACK,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;AACD,GAFD;;AAKF,QAAMC,aAAa,GAAGX,cAAc,CAACE,UAAD,EAAY,GAAZ,CAApC,CAVqB,CAUiC;;AAEtDU,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAuCF,aAAvC;AAEAf,EAAAA,SAAS,CAAC,MAAM;AAEZ,QAAIe,aAAJ,EAAmB;AACf;AACAG,MAAAA,eAAe,CAACH,aAAD,CAAf,CAA+BI,IAA/B,CAAqCC,OAAD,IAAW;AAC3C;AACAV,QAAAA,gBAAgB,CAACU,OAAD,CAAhB;AACH,OAHD;AAID,KANH,MAMS;AACLV,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACH;AACF,GAXM,EAWJ,CAACK,aAAD,CAXI,CAAT;;AAcE,QAAMG,eAAe,GAAIG,IAAD,IAAU;AAChC,WAAOC,KAAK,CACP,kCADO,EAER;AACEC,MAAAA,MAAM,EAAE,MADV;AAEEC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFX;AAKEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,QAAAA,KAAK,EAACP;AAAP,OAAf;AALR,KAFQ,CAAL,CAUFF,IAVE,CAUGU,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAVf,EAWFX,IAXE,CAWIY,WAAD,IAAiB;AACnB,aAAOA,WAAP;AACH,KAbE,EAcFC,KAdE,CAcIC,KAAK,IAAI;AACdjB,MAAAA,OAAO,CAACiB,KAAR,CAAcA,KAAd;AACA,aAAO,EAAP;AACD,KAjBE,CAAP;AAmBA,GApBF;;AAsBC,sBAEK,oBAAC,IAAD;AACA,IAAA,SAAS,MADT;AAEA,IAAA,OAAO,EAAE,CAFT;AAGA,IAAA,SAAS,EAAC,QAHV;AAIA,IAAA,UAAU,EAAC,QAJX;AAKA,IAAA,OAAO,EAAC,QALR;AAMA,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBASI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADA,eAEI,oBAAC,YAAD;AACQ,IAAA,EAAE,EAAC,cADX;AAEQ,mBAAY,qBAFpB;AAGQ,IAAA,OAAO,EAAEzB,aAHjB;AAIQ,IAAA,cAAc,EAAG0B,MAAD,IAAYA,MAAM,CAACC,KAJ3C;AAKQ,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KALf;AAMQ,IAAA,aAAa,EAAGC,CAAD,IAAM3B,YAAY,CAAC2B,CAAD,CANzC;AAOQ,IAAA,WAAW,EAAGC,MAAD,iBAAY,oBAAC,SAAD,oBAAeA,MAAf;AAAuB,qBAAY,iBAAnC;AAAqD,MAAA,GAAG,EAAC,cAAzD;AAAwE,MAAA,KAAK,EAAC,WAA9E;AAA0F,MAAA,OAAO,EAAC,UAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAPjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CATJ,CAFL;AA2BF;;AAED,eAAelC,SAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Grid from '@material-ui/core/Grid';\nimport CustomDebounce from '../utils/debounce'\n\nfunction SearchBar() {\n\n const [searchTerm, setSearchTerm] = React.useState(\"\");\n const [searchResults, setSearchResults] = React.useState([]);\n \n  const handleChange = event => {\n    setSearchTerm(event.target.value);\n  };\n\n\nconst deboundSearch = CustomDebounce(searchTerm,300); //This will set debounce delay to our search\n\nconsole.log(\"Debounced search term  -\",deboundSearch)\n\nuseEffect(() => {\n\n    if (deboundSearch) {\n        // Call countries API \n        searchCountries(deboundSearch).then((results)=>{\n            // Set results in react state\n            setSearchResults(results);\n        })\n      } else {\n        setSearchResults([]);\n    }\n  }, [deboundSearch]);\n\n\n  const searchCountries = (code) => {\n    return fetch(\n        `http://localhost:5000/api/search`,\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({query:code}) \n        }\n      )\n        .then(response => response.json())\n        .then((responseObj) => {\n            return responseObj\n        })\n        .catch(error => {\n          console.error(error);\n          return [];\n        });\n\n   } \n\n   return (\n\n        <Grid\n        container\n        spacing={0}\n        direction=\"column\"\n        alignItems=\"center\"\n        justify=\"center\"\n        style={{ minHeight: '100vh' }}\n        >\n          \n            <Grid item xs={6}>\n            <h1>Please Select Your Country</h1>\n                <Autocomplete\n                        id=\"autocomplete\"\n                        data-testid='autocomplete-search'\n                        options={searchResults}\n                        getOptionLabel={(option) => option.title}\n                        style={{ width: 500 }}\n                        onInputChange={(e)=> handleChange(e)}\n                        renderInput={(params) => <TextField {...params} data-testid=\"autocompleteTxt\" alt=\"autocomplete\" label=\"Countries\" variant=\"outlined\" />}\n                    />\n            </Grid>   \n\n        </Grid> \n\n   )\n}\n\nexport default SearchBar"]},"metadata":{},"sourceType":"module"}